{% extends "base.html" %}
{% block title %}{{ 'Edit Offer' if editing else 'Add Offer' }} â€” The Hive{% endblock %}
{% block content %}

<h2 style="margin-bottom:16px;">
  {{ 'Edit Offer' if editing else 'Create a New Offer' }}
</h2>

<form
    action="{{ url_for('edit_offer', offer_id=offer.offer_id) if editing else url_for('add_offer') }}"
    method="POST"
    enctype="multipart/form-data"
    class="card"
    style="color:black; background:white;"
>

    <!-- TITLE -->
    <input type="text" name="title"
           placeholder="Title (e.g., Math tutoring)"
           value="{{ offer.title if editing else '' }}"
           required
           style="margin-top:8px; width:100%; padding:10px;">

    <!-- DESCRIPTION -->
    <textarea name="description"
              placeholder="Describe your offer..."
              required
              style="margin-top:8px; width:100%; padding:10px;">{{ offer.description if editing else '' }}</textarea>

    <!-- HOURS -->
    <input type="number" name="hours"
           placeholder="Hours needed"
           min="1"
           value="{{ offer.hours if editing else '' }}"
           required
           style="margin-top:8px; width:100%; padding:10px;">

    <!-- LOCATION -->
    <input type="text" name="location"
           placeholder="Location (City/District, or 'Online')"
           value="{{ offer.location if editing else '' }}"
           required
           style="margin-top:8px; width:100%; padding:10px;">
       <!-- POST DATE -->
    <label style="margin-top:12px; display:block; font-size:0.9rem;">
        Post Date
    </label>
    <input type="date"
           name="posted_at"
           value="{{ offer.posted_at.strftime('%Y-%m-%d') if editing and offer.posted_at else today_str }}"
           required
           style="margin-top:4px; width:100%; padding:10px;">
    <!-- IMAGE UPLOAD -->
    <label style="margin-top:12px; display:block; font-size:0.9rem;">
        Upload Thumbnail Image (optional)
    </label>

    {% if editing and offer.image_filename %}
      <p style="font-size:0.9rem; color:#444;">
        Current Image: {{ offer.image_filename }}
      </p>
    {% endif %}

    <input type="file" name="image" accept="image/*" style="margin-top:4px;">

    <!-- SUBMIT BUTTON -->
    <button class="btn" type="submit" style="margin-top:12px; width:100%;">
        {{ 'Save Changes' if editing else 'Publish Offer' }}
    </button>

</form>

{% endblock %}
